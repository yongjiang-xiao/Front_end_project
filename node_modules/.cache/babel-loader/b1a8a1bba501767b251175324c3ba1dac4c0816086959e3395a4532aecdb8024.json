{"ast":null,"code":"import { stadiumData } from \"@/assets/js/stadiumData\";\nexport default {\n  name: \"StadiumBooking\",\n  data() {\n    return {\n      stadiumData,\n      selectedStadiumId: null,\n      selectedVenueTypeId: null,\n      selectedDate: null,\n      // key: `${stadiumId}__${venueTypeId}__${date}` -> { [venueId]: { [hour]: 'occupied'|'available' } }\n      statusCache: {},\n      selectedSlots: [],\n      // {venueId, venueName, hour, price}\n      userForm: {\n        userName: \"\",\n        userPhone: \"\",\n        userId: \"\",\n        remarks: \"\"\n      },\n      showModal: false,\n      bookingResult: {\n        stadiumName: \"\",\n        venueTypeName: \"\",\n        date: \"\",\n        totalPrice: 0\n      }\n    };\n  },\n  computed: {\n    venueTypesOfSelectedStadium() {\n      if (!this.selectedStadiumId) return {};\n      return this.stadiumData[this.selectedStadiumId].venues || {};\n    },\n    venuesOfSelectedType() {\n      if (!this.selectedStadiumId || !this.selectedVenueTypeId) return [];\n      return this.stadiumData[this.selectedStadiumId].venues[this.selectedVenueTypeId].venues || [];\n    },\n    hoursRange() {\n      if (!this.selectedStadiumId) return [];\n      const s = this.stadiumData[this.selectedStadiumId];\n      const openHour = parseInt(s.openTime.split(\":\")[0], 10);\n      const closeHour = parseInt(s.closeTime.split(\":\")[0], 10);\n      const arr = [];\n      for (let h = openHour; h < closeHour; h++) arr.push(h);\n      return arr;\n    },\n    dateOptions() {\n      // 未来四天（含今天）——你原逻辑是“未来四天内”，这里给你 4 个选项\n      const options = [];\n      const today = new Date();\n      for (let i = 0; i < 4; i++) {\n        const d = new Date(today);\n        d.setDate(today.getDate() + i);\n        const value = this.formatDate(d);\n        options.push({\n          value,\n          label: i === 0 ? \"今天\" : i === 1 ? \"明天\" : this.formatDateChinese(d)\n        });\n      }\n      return options;\n    },\n    totalPrice() {\n      return this.selectedSlots.reduce((sum, s) => sum + (Number(s.price) || 0), 0);\n    },\n    groupedSlots() {\n      const map = new Map();\n      for (const s of this.selectedSlots) {\n        const key = s.venueName;\n        if (!map.has(key)) map.set(key, []);\n        map.get(key).push(s.hour);\n      }\n      return Array.from(map.entries()).map(([venueName, hours]) => {\n        hours.sort((a, b) => a - b);\n        return {\n          venueName,\n          hoursText: hours.map(h => `${h}:00-${h + 1}:00`).join(\", \")\n        };\n      });\n    }\n  },\n  methods: {\n    selectStadium(stadiumId) {\n      this.selectedStadiumId = stadiumId;\n      this.selectedVenueTypeId = null;\n      this.selectedSlots = [];\n      this.userForm = {\n        userName: \"\",\n        userPhone: \"\",\n        userId: \"\",\n        remarks: \"\"\n      };\n\n      // 默认选第一个日期\n      this.selectedDate = this.dateOptions[0]?.value || null;\n    },\n    selectVenueType(venueTypeId) {\n      this.selectedVenueTypeId = venueTypeId;\n      this.selectedSlots = [];\n      this.ensureStatusGenerated();\n    },\n    onDateChange() {\n      this.selectedSlots = [];\n      this.ensureStatusGenerated();\n    },\n    // 生成/缓存随机占用\n    ensureStatusGenerated() {\n      if (!this.selectedStadiumId || !this.selectedVenueTypeId || !this.selectedDate) return;\n      const cacheKey = `${this.selectedStadiumId}__${this.selectedVenueTypeId}__${this.selectedDate}`;\n      if (this.statusCache[cacheKey]) return;\n      const s = this.stadiumData[this.selectedStadiumId];\n      const venues = s.venues[this.selectedVenueTypeId].venues;\n      const openHour = parseInt(s.openTime.split(\":\")[0], 10);\n      const closeHour = parseInt(s.closeTime.split(\":\")[0], 10);\n      const dayStatus = {};\n      for (const v of venues) {\n        dayStatus[v.id] = {};\n        for (let h = openHour; h < closeHour; h++) {\n          dayStatus[v.id][h] = Math.random() < 0.3 ? \"occupied\" : \"available\";\n        }\n      }\n      this.statusCache[cacheKey] = dayStatus;\n    },\n    getStatus(venueId, hour) {\n      const cacheKey = `${this.selectedStadiumId}__${this.selectedVenueTypeId}__${this.selectedDate}`;\n      const dayStatus = this.statusCache[cacheKey];\n      if (!dayStatus) return \"available\";\n      return dayStatus?.[venueId]?.[hour] || \"available\";\n    },\n    isSelected(venueId, hour) {\n      return this.selectedSlots.some(s => s.venueId === venueId && s.hour === hour);\n    },\n    slotClass(venueId, hour) {\n      const base = this.getStatus(venueId, hour);\n      return {\n        [base]: true,\n        selected: this.isSelected(venueId, hour)\n      };\n    },\n    toggleSlot(venue, hour) {\n      this.ensureStatusGenerated();\n      const status = this.getStatus(venue.id, hour);\n      if (status === \"occupied\") return;\n      const idx = this.selectedSlots.findIndex(s => s.venueId === venue.id && s.hour === hour);\n      if (idx >= 0) {\n        this.selectedSlots.splice(idx, 1);\n      } else {\n        this.selectedSlots.push({\n          venueId: venue.id,\n          venueName: venue.name,\n          hour,\n          price: venue.price\n        });\n      }\n    },\n    submitBooking() {\n      if (!this.selectedStadiumId || !this.selectedVenueTypeId || !this.selectedDate) return;\n      if (!this.selectedSlots.length) return;\n      const {\n        userName,\n        userPhone,\n        userId\n      } = this.userForm;\n      if (!userName || !userPhone || !userId) return;\n      this.bookingResult = {\n        stadiumName: this.stadiumData[this.selectedStadiumId].name,\n        venueTypeName: this.stadiumData[this.selectedStadiumId].venues[this.selectedVenueTypeId].name,\n        date: this.selectedDate,\n        totalPrice: this.totalPrice\n      };\n      this.showModal = true;\n    },\n    resetAll() {\n      this.selectedStadiumId = null;\n      this.selectedVenueTypeId = null;\n      this.selectedDate = null;\n      this.selectedSlots = [];\n      this.userForm = {\n        userName: \"\",\n        userPhone: \"\",\n        userId: \"\",\n        remarks: \"\"\n      };\n      this.showModal = false;\n    },\n    formatDate(date) {\n      const y = date.getFullYear();\n      const m = String(date.getMonth() + 1).padStart(2, \"0\");\n      const d = String(date.getDate()).padStart(2, \"0\");\n      return `${y}-${m}-${d}`;\n    },\n    formatDateChinese(date) {\n      const month = date.getMonth() + 1;\n      const day = date.getDate();\n      const weekDays = [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"];\n      return `${month}月${day}日 ${weekDays[date.getDay()]}`;\n    }\n  }\n};","map":{"version":3,"names":["stadiumData","name","data","selectedStadiumId","selectedVenueTypeId","selectedDate","statusCache","selectedSlots","userForm","userName","userPhone","userId","remarks","showModal","bookingResult","stadiumName","venueTypeName","date","totalPrice","computed","venueTypesOfSelectedStadium","venues","venuesOfSelectedType","hoursRange","s","openHour","parseInt","openTime","split","closeHour","closeTime","arr","h","push","dateOptions","options","today","Date","i","d","setDate","getDate","value","formatDate","label","formatDateChinese","reduce","sum","Number","price","groupedSlots","map","Map","key","venueName","has","set","get","hour","Array","from","entries","hours","sort","a","b","hoursText","join","methods","selectStadium","stadiumId","selectVenueType","venueTypeId","ensureStatusGenerated","onDateChange","cacheKey","dayStatus","v","id","Math","random","getStatus","venueId","isSelected","some","slotClass","base","selected","toggleSlot","venue","status","idx","findIndex","splice","submitBooking","length","resetAll","y","getFullYear","m","String","getMonth","padStart","month","day","weekDays","getDay"],"sources":["C:\\Users\\刘新康\\Desktop\\大二上课程\\前端开发实训\\Front_end_project\\src\\views\\life\\StadiumBooking.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <div class=\"container\">\r\n      <div class=\"page-header\">\r\n        <h1 class=\"page-title\">体育馆预约</h1>\r\n        <p class=\"page-description\">预约南开大学各校区体育馆场地</p>\r\n      </div>\r\n\r\n      <div class=\"stadium-booking-container\">\r\n        <!-- 1) 体育馆选择 -->\r\n        <div class=\"stadium-selection\">\r\n          <h2>选择体育馆</h2>\r\n          <div class=\"stadium-options\">\r\n            <div\r\n              v-for=\"(s, stadiumId) in stadiumData\"\r\n              :key=\"stadiumId\"\r\n              class=\"stadium-card\"\r\n              :class=\"{ active: selectedStadiumId === stadiumId }\"\r\n              @click=\"selectStadium(stadiumId)\"\r\n            >\r\n              <div class=\"stadium-icon\">\r\n                <i class=\"fas fa-basketball-ball\"></i>\r\n              </div>\r\n              <h3>{{ s.name }}</h3>\r\n              <p>开放时间：{{ s.openTime }} - {{ s.closeTime }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 2) 场馆类型选择 -->\r\n        <div v-if=\"selectedStadiumId\" class=\"venue-type-selection\">\r\n          <h2>选择场馆类型</h2>\r\n          <div class=\"venue-type-options\">\r\n            <div\r\n              v-for=\"(vt, venueTypeId) in venueTypesOfSelectedStadium\"\r\n              :key=\"venueTypeId\"\r\n              class=\"venue-type-card\"\r\n              :class=\"{ active: selectedVenueTypeId === venueTypeId }\"\r\n              @click=\"selectVenueType(venueTypeId)\"\r\n            >\r\n              <h3>{{ vt.name }}</h3>\r\n              <p>可预约场地：{{ vt.venues.length }} 个</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 3) 时间选择 -->\r\n        <div v-if=\"selectedVenueTypeId\" class=\"venue-selection\">\r\n          <h2>选择场地和时间</h2>\r\n\r\n          <div class=\"date-selector\">\r\n            <label>选择日期：</label>\r\n            <select v-model=\"selectedDate\" @change=\"onDateChange\">\r\n              <option v-for=\"d in dateOptions\" :key=\"d.value\" :value=\"d.value\">\r\n                {{ d.label }}（{{ d.value }}）\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"time-matrix-container\">\r\n            <table class=\"time-matrix\">\r\n              <thead>\r\n                <tr>\r\n                  <th>时间</th>\r\n                  <th v-for=\"v in venuesOfSelectedType\" :key=\"v.id\">{{ v.name }}</th>\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody>\r\n                <tr v-for=\"hour in hoursRange\" :key=\"hour\">\r\n                  <td>{{ hour }}:00-{{ hour + 1 }}:00</td>\r\n\r\n                  <td v-for=\"v in venuesOfSelectedType\" :key=\"v.id\">\r\n                    <div\r\n                      class=\"time-slot\"\r\n                      :class=\"slotClass(v.id, hour)\"\r\n                      @click=\"toggleSlot(v, hour)\"\r\n                    >\r\n                      <template v-if=\"isSelected(v.id, hour)\">已选择</template>\r\n                      <template v-else>{{ v.price }}元</template>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div class=\"legend\">\r\n            <div class=\"legend-item\">\r\n              <div class=\"legend-color available\"></div><span>空闲</span>\r\n            </div>\r\n            <div class=\"legend-item\">\r\n              <div class=\"legend-color occupied\"></div><span>已占用</span>\r\n            </div>\r\n            <div class=\"legend-item\">\r\n              <div class=\"legend-color selected\"></div><span>已选择</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 4) 预约表单 -->\r\n        <div v-if=\"selectedSlots.length\" class=\"booking-form\">\r\n          <h2>预约信息</h2>\r\n\r\n          <div class=\"selected-slots-info\">\r\n            <h3>已选择的时间段</h3>\r\n\r\n            <div>\r\n              <div v-for=\"(group, idx) in groupedSlots\" :key=\"idx\" class=\"slot-item\">\r\n                <strong>{{ group.venueName }}</strong>：\r\n                <span>{{ group.hoursText }}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"total-price\">\r\n              <span>总价格：</span>\r\n              <span>{{ totalPrice }}</span> 元\r\n            </div>\r\n          </div>\r\n\r\n          <form @submit.prevent=\"submitBooking\">\r\n            <div class=\"form-row\">\r\n              <div class=\"form-group\">\r\n                <label>预约人姓名</label>\r\n                <input v-model.trim=\"userForm.userName\" required placeholder=\"请输入您的姓名\" />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label>联系电话</label>\r\n                <input v-model.trim=\"userForm.userPhone\" required placeholder=\"请输入您的联系电话\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-row\">\r\n              <div class=\"form-group\">\r\n                <label>学号/工号</label>\r\n                <input v-model.trim=\"userForm.userId\" required placeholder=\"请输入您的学号/工号\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label>备注</label>\r\n              <textarea v-model.trim=\"userForm.remarks\" rows=\"3\" placeholder=\"如有特殊需求请在此说明\"></textarea>\r\n            </div>\r\n\r\n            <div class=\"form-actions\">\r\n              <button type=\"button\" class=\"btn btn-secondary\" @click=\"resetAll\">\r\n                <i class=\"fas fa-redo\"></i> 重置\r\n              </button>\r\n              <button type=\"submit\" class=\"btn btn-primary\">\r\n                <i class=\"fas fa-check\"></i> 确认预约\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        <!-- 预约须知 -->\r\n        <div class=\"booking-notice\">\r\n          <h2>预约须知</h2>\r\n          <div class=\"notice-content\">\r\n            <ul>\r\n              <li>预约系统仅提供未来四天内的场馆预约服务</li>\r\n              <li>预约成功后，请在预约时间开始前15分钟到达场馆</li>\r\n              <li>如需取消预约，请提前2小时联系场馆管理员</li>\r\n              <li>请遵守场馆使用规定，爱护场馆设施</li>\r\n              <li>逾期未使用且未取消的预约将被记录，可能影响后续预约</li>\r\n              <li>场馆开放时间可能因特殊情况调整，请留意通知</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 成功模态框 -->\r\n    <div class=\"booking-modal-overlay\" :class=\"{ active: showModal }\">\r\n      <div class=\"booking-modal\">\r\n        <div class=\"modal-header\">\r\n          <h3>预约成功</h3>\r\n          <button class=\"modal-close\" @click=\"showModal = false\">\r\n            <i class=\"fas fa-times\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"modal-body\">\r\n          <div class=\"success-icon\">\r\n            <i class=\"fas fa-check-circle\"></i>\r\n          </div>\r\n          <p>您已成功预约体育馆场地！</p>\r\n\r\n          <div class=\"booking-details\">\r\n            <div class=\"booking-detail-item\">\r\n              <span class=\"booking-detail-label\">体育馆：</span>\r\n              <span class=\"booking-detail-value\">{{ bookingResult.stadiumName }}</span>\r\n            </div>\r\n            <div class=\"booking-detail-item\">\r\n              <span class=\"booking-detail-label\">类型：</span>\r\n              <span class=\"booking-detail-value\">{{ bookingResult.venueTypeName }}</span>\r\n            </div>\r\n            <div class=\"booking-detail-item\">\r\n              <span class=\"booking-detail-label\">日期：</span>\r\n              <span class=\"booking-detail-value\">{{ bookingResult.date }}</span>\r\n            </div>\r\n            <div class=\"booking-detail-item\">\r\n              <span class=\"booking-detail-label\">总价：</span>\r\n              <span class=\"booking-detail-value\">¥{{ bookingResult.totalPrice }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"modal-footer\">\r\n          <button class=\"btn btn-primary\" @click=\"showModal = false\">确定</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { stadiumData } from \"@/assets/js/stadiumData\";\r\n\r\nexport default {\r\n  name: \"StadiumBooking\",\r\n  data() {\r\n    return {\r\n      stadiumData,\r\n\r\n      selectedStadiumId: null,\r\n      selectedVenueTypeId: null,\r\n      selectedDate: null,\r\n\r\n      // key: `${stadiumId}__${venueTypeId}__${date}` -> { [venueId]: { [hour]: 'occupied'|'available' } }\r\n      statusCache: {},\r\n\r\n      selectedSlots: [], // {venueId, venueName, hour, price}\r\n      userForm: {\r\n        userName: \"\",\r\n        userPhone: \"\",\r\n        userId: \"\",\r\n        remarks: \"\",\r\n      },\r\n\r\n      showModal: false,\r\n      bookingResult: {\r\n        stadiumName: \"\",\r\n        venueTypeName: \"\",\r\n        date: \"\",\r\n        totalPrice: 0,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    venueTypesOfSelectedStadium() {\r\n      if (!this.selectedStadiumId) return {};\r\n      return this.stadiumData[this.selectedStadiumId].venues || {};\r\n    },\r\n    venuesOfSelectedType() {\r\n      if (!this.selectedStadiumId || !this.selectedVenueTypeId) return [];\r\n      return this.stadiumData[this.selectedStadiumId].venues[this.selectedVenueTypeId].venues || [];\r\n    },\r\n    hoursRange() {\r\n      if (!this.selectedStadiumId) return [];\r\n      const s = this.stadiumData[this.selectedStadiumId];\r\n      const openHour = parseInt(s.openTime.split(\":\")[0], 10);\r\n      const closeHour = parseInt(s.closeTime.split(\":\")[0], 10);\r\n      const arr = [];\r\n      for (let h = openHour; h < closeHour; h++) arr.push(h);\r\n      return arr;\r\n    },\r\n    dateOptions() {\r\n      // 未来四天（含今天）——你原逻辑是“未来四天内”，这里给你 4 个选项\r\n      const options = [];\r\n      const today = new Date();\r\n      for (let i = 0; i < 4; i++) {\r\n        const d = new Date(today);\r\n        d.setDate(today.getDate() + i);\r\n        const value = this.formatDate(d);\r\n        options.push({ value, label: i === 0 ? \"今天\" : i === 1 ? \"明天\" : this.formatDateChinese(d) });\r\n      }\r\n      return options;\r\n    },\r\n    totalPrice() {\r\n      return this.selectedSlots.reduce((sum, s) => sum + (Number(s.price) || 0), 0);\r\n    },\r\n    groupedSlots() {\r\n      const map = new Map();\r\n      for (const s of this.selectedSlots) {\r\n        const key = s.venueName;\r\n        if (!map.has(key)) map.set(key, []);\r\n        map.get(key).push(s.hour);\r\n      }\r\n      return Array.from(map.entries()).map(([venueName, hours]) => {\r\n        hours.sort((a, b) => a - b);\r\n        return {\r\n          venueName,\r\n          hoursText: hours.map((h) => `${h}:00-${h + 1}:00`).join(\", \"),\r\n        };\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    selectStadium(stadiumId) {\r\n      this.selectedStadiumId = stadiumId;\r\n      this.selectedVenueTypeId = null;\r\n      this.selectedSlots = [];\r\n      this.userForm = { userName: \"\", userPhone: \"\", userId: \"\", remarks: \"\" };\r\n\r\n      // 默认选第一个日期\r\n      this.selectedDate = this.dateOptions[0]?.value || null;\r\n    },\r\n    selectVenueType(venueTypeId) {\r\n      this.selectedVenueTypeId = venueTypeId;\r\n      this.selectedSlots = [];\r\n      this.ensureStatusGenerated();\r\n    },\r\n    onDateChange() {\r\n      this.selectedSlots = [];\r\n      this.ensureStatusGenerated();\r\n    },\r\n\r\n    // 生成/缓存随机占用\r\n    ensureStatusGenerated() {\r\n      if (!this.selectedStadiumId || !this.selectedVenueTypeId || !this.selectedDate) return;\r\n\r\n      const cacheKey = `${this.selectedStadiumId}__${this.selectedVenueTypeId}__${this.selectedDate}`;\r\n      if (this.statusCache[cacheKey]) return;\r\n\r\n      const s = this.stadiumData[this.selectedStadiumId];\r\n      const venues = s.venues[this.selectedVenueTypeId].venues;\r\n      const openHour = parseInt(s.openTime.split(\":\")[0], 10);\r\n      const closeHour = parseInt(s.closeTime.split(\":\")[0], 10);\r\n\r\n      const dayStatus = {};\r\n      for (const v of venues) {\r\n        dayStatus[v.id] = {};\r\n        for (let h = openHour; h < closeHour; h++) {\r\n          dayStatus[v.id][h] = Math.random() < 0.3 ? \"occupied\" : \"available\";\r\n        }\r\n      }\r\n      this.statusCache[cacheKey] = dayStatus;\r\n    },\r\n\r\n    getStatus(venueId, hour) {\r\n      const cacheKey = `${this.selectedStadiumId}__${this.selectedVenueTypeId}__${this.selectedDate}`;\r\n      const dayStatus = this.statusCache[cacheKey];\r\n      if (!dayStatus) return \"available\";\r\n      return dayStatus?.[venueId]?.[hour] || \"available\";\r\n    },\r\n\r\n    isSelected(venueId, hour) {\r\n      return this.selectedSlots.some((s) => s.venueId === venueId && s.hour === hour);\r\n    },\r\n\r\n    slotClass(venueId, hour) {\r\n      const base = this.getStatus(venueId, hour);\r\n      return {\r\n        [base]: true,\r\n        selected: this.isSelected(venueId, hour),\r\n      };\r\n    },\r\n\r\n    toggleSlot(venue, hour) {\r\n      this.ensureStatusGenerated();\r\n      const status = this.getStatus(venue.id, hour);\r\n      if (status === \"occupied\") return;\r\n\r\n      const idx = this.selectedSlots.findIndex((s) => s.venueId === venue.id && s.hour === hour);\r\n      if (idx >= 0) {\r\n        this.selectedSlots.splice(idx, 1);\r\n      } else {\r\n        this.selectedSlots.push({\r\n          venueId: venue.id,\r\n          venueName: venue.name,\r\n          hour,\r\n          price: venue.price,\r\n        });\r\n      }\r\n    },\r\n\r\n    submitBooking() {\r\n      if (!this.selectedStadiumId || !this.selectedVenueTypeId || !this.selectedDate) return;\r\n      if (!this.selectedSlots.length) return;\r\n\r\n      const { userName, userPhone, userId } = this.userForm;\r\n      if (!userName || !userPhone || !userId) return;\r\n\r\n      this.bookingResult = {\r\n        stadiumName: this.stadiumData[this.selectedStadiumId].name,\r\n        venueTypeName: this.stadiumData[this.selectedStadiumId].venues[this.selectedVenueTypeId].name,\r\n        date: this.selectedDate,\r\n        totalPrice: this.totalPrice,\r\n      };\r\n      this.showModal = true;\r\n    },\r\n\r\n    resetAll() {\r\n      this.selectedStadiumId = null;\r\n      this.selectedVenueTypeId = null;\r\n      this.selectedDate = null;\r\n      this.selectedSlots = [];\r\n      this.userForm = { userName: \"\", userPhone: \"\", userId: \"\", remarks: \"\" };\r\n      this.showModal = false;\r\n    },\r\n\r\n    formatDate(date) {\r\n      const y = date.getFullYear();\r\n      const m = String(date.getMonth() + 1).padStart(2, \"0\");\r\n      const d = String(date.getDate()).padStart(2, \"0\");\r\n      return `${y}-${m}-${d}`;\r\n    },\r\n    formatDateChinese(date) {\r\n      const month = date.getMonth() + 1;\r\n      const day = date.getDate();\r\n      const weekDays = [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"];\r\n      return `${month}月${day}日 ${weekDays[date.getDay()]}`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- 样式：你可以继续用原来的 css/stadium-booking.css + style.css\r\n     如果你已经在 main.js 全局引入了，就不用在这里写 -->\r\n<style src=\"@/assets/css/stadium-booking.css\"></style>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}