{"ast":null,"code":"import { CLUBS, CLUB_CATEGORIES } from \"@/assets/js/clubActivities\";\nexport default {\n  name: \"ClubActivities\",\n  data() {\n    return {\n      clubs: CLUBS,\n      currentCategory: \"all\",\n      showModal: false,\n      selectedClub: null\n    };\n  },\n  computed: {\n    filteredClubs() {\n      if (this.currentCategory === \"all\") return this.clubs;\n      return this.clubs.filter(c => c.category === this.currentCategory);\n    }\n  },\n  methods: {\n    openModal(club) {\n      this.selectedClub = club;\n      this.showModal = true;\n\n      // 记住原来的 overflow，避免影响其他页面\n      this._prevBodyOverflow = document.body.style.overflow;\n      this._prevHtmlOverflow = document.documentElement.style.overflow;\n      document.body.style.overflow = \"hidden\";\n      document.documentElement.style.overflow = \"hidden\";\n    },\n    closeModal() {\n      this.showModal = false;\n\n      // 恢复原值（比直接 \"\" 更安全）\n      document.body.style.overflow = this._prevBodyOverflow || \"\";\n      document.documentElement.style.overflow = this._prevHtmlOverflow || \"\";\n\n      // 可选：顺手清掉选中\n      this.selectedClub = null;\n    },\n    onKeydown(e) {\n      if (e.key === \"Escape\" && this.showModal) this.closeModal();\n    }\n  },\n  mounted() {\n    window.addEventListener(\"keydown\", this.onKeydown);\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"keydown\", this.onKeydown);\n\n    // 兜底：防止切路由时仍锁住滚动\n    document.body.style.overflow = this._prevBodyOverflow || \"\";\n    document.documentElement.style.overflow = this._prevHtmlOverflow || \"\";\n  },\n  deactivated() {\n    // 如果你有 <keep-alive>，组件不会卸载，会走这里\n    document.body.style.overflow = this._prevBodyOverflow || \"\";\n    document.documentElement.style.overflow = this._prevHtmlOverflow || \"\";\n  }\n};","map":{"version":3,"names":["CLUBS","CLUB_CATEGORIES","name","data","clubs","currentCategory","showModal","selectedClub","computed","filteredClubs","filter","c","category","methods","openModal","club","_prevBodyOverflow","document","body","style","overflow","_prevHtmlOverflow","documentElement","closeModal","onKeydown","e","key","mounted","window","addEventListener","beforeUnmount","removeEventListener","deactivated"],"sources":["C:\\Users\\刘新康\\Desktop\\大二上课程\\前端开发实训\\Front_end_project\\src\\views\\life\\ClubActivities.vue"],"sourcesContent":["<template>\r\n  <!-- 只保留原 HTML 的 main 内容（SPA 里 header/footer 通常在 App.vue 里统一做） -->\r\n  <main class=\"main-content\">\r\n    <!-- service-title：来自原 HTML -->\r\n    <div class=\"service-title\">\r\n      <h1>社团活动</h1>\r\n      <p>探索南开大学丰富多彩的社团文化，发现志同道合的朋友，拓展兴趣爱好</p>\r\n    </div>\r\n\r\n    <!-- breadcrumb：结构照原来 -->\r\n    <div class=\"breadcrumb\">\r\n      <div class=\"breadcrumb-container\">\r\n        <router-link class=\"breadcrumb-item\" to=\"/\">首页</router-link>\r\n        <span class=\"breadcrumb-separator\">/</span>\r\n        <router-link class=\"breadcrumb-item\" to=\"/life\">生活服务</router-link>\r\n        <span class=\"breadcrumb-separator\">/</span>\r\n        <span class=\"breadcrumb-current\">社团活动</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- filter-section：照原来“社团分类” -->\r\n    <div class=\"filter-section\">\r\n      <div class=\"filter-container\">\r\n        <div class=\"filter-title\">\r\n          <i class=\"fas fa-filter\"></i>\r\n          <h2>社团分类</h2>\r\n        </div>\r\n\r\n        <div class=\"filter-buttons\">\r\n          <button\r\n            v-for=\"c in categories\"\r\n            :key=\"c.key\"\r\n            class=\"filter-btn\"\r\n            :class=\"{ active: currentCategory === c.key }\"\r\n            @click=\"currentCategory = c.key\"\r\n          >\r\n            {{ c.label }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- clubs-grid：保持 club-card / club-name / club-desc / club-tags / tag 这些 class，不改 CSS 选择器 -->\r\n    <div class=\"clubs-container\">\r\n      <div class=\"clubs-grid\" id=\"clubsGrid\">\r\n        <div\r\n          v-for=\"club in filteredClubs\"\r\n          :key=\"club.name\"\r\n          class=\"club-card\"\r\n          :data-category=\"club.category\"\r\n          @click=\"openModal(club)\"\r\n        >\r\n          <h3 class=\"club-name\">{{ club.name }}</h3>\r\n          <p class=\"club-desc\">{{ club.desc }}</p>\r\n          <div class=\"club-tags\">\r\n            <span class=\"tag\" v-for=\"t in club.tags\" :key=\"t\">{{ t }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- modal：结构照原 HTML（id 也保留） -->\r\n    <div\r\n      class=\"modal\"\r\n      id=\"clubModal\"\r\n      :class=\"{ open: showModal }\"\r\n      @click.self=\"closeModal\"\r\n    >\r\n      <div class=\"modal-content\">\r\n        <span class=\"close-modal\" @click=\"closeModal\">&times;</span>\r\n\r\n        <div class=\"modal-header\">\r\n          <div class=\"modal-icon\">\r\n            <i class=\"fas fa-users\"></i>\r\n          </div>\r\n          <h2 id=\"modalClubName\">{{ selectedClub?.name || \"社团名称\" }}</h2>\r\n        </div>\r\n\r\n        <div class=\"modal-body\">\r\n          <div class=\"club-detail\">\r\n            <h3>社团简介</h3>\r\n            <p id=\"modalClubDesc\">{{ selectedClub?.desc || \"社团描述\" }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport { CLUBS, CLUB_CATEGORIES } from \"@/assets/js/clubActivities\";\r\n\r\n\r\nexport default {\r\n  name: \"ClubActivities\",\r\n  data() {\r\n    return {\r\n      clubs: CLUBS,\r\n      currentCategory: \"all\",\r\n      showModal: false,\r\n      selectedClub: null,\r\n      \r\n    };\r\n  },\r\n  computed: {\r\n    filteredClubs() {\r\n      if (this.currentCategory === \"all\") return this.clubs;\r\n      return this.clubs.filter((c) => c.category === this.currentCategory);\r\n    },\r\n  },\r\n methods: {\r\n  openModal(club) {\r\n    this.selectedClub = club;\r\n    this.showModal = true;\r\n\r\n    // 记住原来的 overflow，避免影响其他页面\r\n    this._prevBodyOverflow = document.body.style.overflow;\r\n    this._prevHtmlOverflow = document.documentElement.style.overflow;\r\n\r\n    document.body.style.overflow = \"hidden\";\r\n    document.documentElement.style.overflow = \"hidden\";\r\n  },\r\n\r\n  closeModal() {\r\n    this.showModal = false;\r\n\r\n    // 恢复原值（比直接 \"\" 更安全）\r\n    document.body.style.overflow = this._prevBodyOverflow || \"\";\r\n    document.documentElement.style.overflow = this._prevHtmlOverflow || \"\";\r\n\r\n    // 可选：顺手清掉选中\r\n    this.selectedClub = null;\r\n  },\r\n\r\n  onKeydown(e) {\r\n    if (e.key === \"Escape\" && this.showModal) this.closeModal();\r\n  },\r\n},\r\n\r\n  mounted() {\r\n  window.addEventListener(\"keydown\", this.onKeydown);\r\n},\r\n\r\nbeforeUnmount() {\r\n  window.removeEventListener(\"keydown\", this.onKeydown);\r\n\r\n  // 兜底：防止切路由时仍锁住滚动\r\n  document.body.style.overflow = this._prevBodyOverflow || \"\";\r\n  document.documentElement.style.overflow = this._prevHtmlOverflow || \"\";\r\n},\r\n\r\ndeactivated() {\r\n  // 如果你有 <keep-alive>，组件不会卸载，会走这里\r\n  document.body.style.overflow = this._prevBodyOverflow || \"\";\r\n  document.documentElement.style.overflow = this._prevHtmlOverflow || \"\";\r\n},\r\n\r\n};\r\n</script>\r\n\r\n<style scoped src=\"@/assets/css/club-activities.css\"></style>\r\n\r\n"],"mappings":"AA0FA,SAASA,KAAK,EAAEC,eAAc,QAAS,4BAA4B;AAGnE,eAAe;EACbC,IAAI,EAAE,gBAAgB;EACtBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAEJ,KAAK;MACZK,eAAe,EAAE,KAAK;MACtBC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE;IAEhB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,aAAaA,CAAA,EAAG;MACd,IAAI,IAAI,CAACJ,eAAc,KAAM,KAAK,EAAE,OAAO,IAAI,CAACD,KAAK;MACrD,OAAO,IAAI,CAACA,KAAK,CAACM,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,QAAO,KAAM,IAAI,CAACP,eAAe,CAAC;IACtE;EACF,CAAC;EACFQ,OAAO,EAAE;IACRC,SAASA,CAACC,IAAI,EAAE;MACd,IAAI,CAACR,YAAW,GAAIQ,IAAI;MACxB,IAAI,CAACT,SAAQ,GAAI,IAAI;;MAErB;MACA,IAAI,CAACU,iBAAgB,GAAIC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ;MACrD,IAAI,CAACC,iBAAgB,GAAIJ,QAAQ,CAACK,eAAe,CAACH,KAAK,CAACC,QAAQ;MAEhEH,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAO,GAAI,QAAQ;MACvCH,QAAQ,CAACK,eAAe,CAACH,KAAK,CAACC,QAAO,GAAI,QAAQ;IACpD,CAAC;IAEDG,UAAUA,CAAA,EAAG;MACX,IAAI,CAACjB,SAAQ,GAAI,KAAK;;MAEtB;MACAW,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAO,GAAI,IAAI,CAACJ,iBAAgB,IAAK,EAAE;MAC3DC,QAAQ,CAACK,eAAe,CAACH,KAAK,CAACC,QAAO,GAAI,IAAI,CAACC,iBAAgB,IAAK,EAAE;;MAEtE;MACA,IAAI,CAACd,YAAW,GAAI,IAAI;IAC1B,CAAC;IAEDiB,SAASA,CAACC,CAAC,EAAE;MACX,IAAIA,CAAC,CAACC,GAAE,KAAM,QAAO,IAAK,IAAI,CAACpB,SAAS,EAAE,IAAI,CAACiB,UAAU,CAAC,CAAC;IAC7D;EACF,CAAC;EAECI,OAAOA,CAAA,EAAG;IACVC,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACL,SAAS,CAAC;EACpD,CAAC;EAEDM,aAAaA,CAAA,EAAG;IACdF,MAAM,CAACG,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAACP,SAAS,CAAC;;IAErD;IACAP,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAO,GAAI,IAAI,CAACJ,iBAAgB,IAAK,EAAE;IAC3DC,QAAQ,CAACK,eAAe,CAACH,KAAK,CAACC,QAAO,GAAI,IAAI,CAACC,iBAAgB,IAAK,EAAE;EACxE,CAAC;EAEDW,WAAWA,CAAA,EAAG;IACZ;IACAf,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAO,GAAI,IAAI,CAACJ,iBAAgB,IAAK,EAAE;IAC3DC,QAAQ,CAACK,eAAe,CAACH,KAAK,CAACC,QAAO,GAAI,IAAI,CAACC,iBAAgB,IAAK,EAAE;EACxE;AAEA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}