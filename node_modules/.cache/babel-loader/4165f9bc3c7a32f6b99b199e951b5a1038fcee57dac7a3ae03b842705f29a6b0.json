{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createStaticVNode as _createStaticVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"map\",\n  class: \"section map-section active\",\n  ref: \"rootRef\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"page\"\n};\nconst _hoisted_4 = {\n  class: \"layout\"\n};\nconst _hoisted_5 = {\n  class: \"map-panel\"\n};\nconst _hoisted_6 = {\n  class: \"map-container\"\n};\nconst _hoisted_7 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" âœ… åªåŠ ä¸€ä¸ª refï¼Œä¸æ”¹ç»“æ„ \"), _createElementVNode(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[1] || (_cache[1] = _createElementVNode(\"header\", {\n    class: \"page-header\"\n  }, [_createElementVNode(\"h1\", null, \"å—å¼€å¤§å­¦äº¤äº’åœ°å›¾\"), _createElementVNode(\"p\", null, \"é¼ æ ‡æ»‘è¿‡æŸæ ‹å»ºç­‘ä¼šå‘å…‰æµ®èµ·ï¼Œç‚¹å‡»åé«˜äº®é”å®šå¹¶æ˜¾ç¤ºå¯¹åº”ä»‹ç»ï¼ŒæŒ‰ Esc å–æ¶ˆé€‰æ‹©ã€‚\")], -1 /* CACHED */)), _createElementVNode(\"main\", _hoisted_4, [_createCommentVNode(\" å·¦ä¾§åœ°å›¾ \"), _createElementVNode(\"section\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"img\", {\n    src: $data.mapImg,\n    alt: \"å—å¼€å¤§å­¦æ‰‹ç»˜åœ°å›¾\",\n    class: \"campus-map\"\n  }, null, 8 /* PROPS */, _hoisted_7), _createCommentVNode(\" çƒ­ç‚¹ç”±åŸ map.js åŠ¨æ€ç”Ÿæˆ \")])]), _createCommentVNode(\" å³ä¾§ä¿¡æ¯æ  \"), _cache[0] || (_cache[0] = _createStaticVNode(\"<aside class=\\\"info-panel\\\"><div class=\\\"info-box\\\"><h2 class=\\\"info-title\\\" id=\\\"info-title\\\">æ“ä½œæç¤º</h2><div class=\\\"info-image-container\\\" id=\\\"info-image-container\\\" style=\\\"display:none;\\\"></div><p class=\\\"info-body\\\" id=\\\"info-body\\\"> é¼ æ ‡ç§»åŠ¨åˆ°åœ°å›¾ä¸ŠæŸæ ‹å»ºç­‘åŒºåŸŸï¼Œä¼šçœ‹åˆ°è¯¥å»ºç­‘å‘å…‰æµ®èµ·ï¼› ç‚¹å‡»åé«˜äº®ä¼šä¸€ç›´å­˜åœ¨ï¼Œå¹¶åœ¨å³ä¾§æ˜¾ç¤ºå¯¹åº”æ–‡å­—ä»‹ç»ã€‚ æŒ‰ Esc å–æ¶ˆå½“å‰é€‰æ‹©ã€‚ </p></div><div class=\\\"hint-box\\\"><p>æ“ä½œè¯´æ˜ï¼š</p><ul><li>ğŸ–±ï¸ æ»‘è¿‡å»ºç­‘ï¼šé»„è‰²é«˜äº® + æµ®èµ·æ•ˆæœ</li><li>ğŸ–±ï¸ å·¦é”®ç‚¹å‡»ï¼šé«˜äº®é”å®š + æ–‡å­—ä»‹ç» + å›¾ç‰‡</li><li>â‹ Escï¼šå–æ¶ˆé«˜äº®ï¼Œæ¢å¤é»˜è®¤æç¤º</li></ul></div></aside>\", 1))])])]), _createCommentVNode(\" âœ… ä¸è¦éŸ³æ•ˆï¼šä¸æ”¾ audio \")], 512 /* NEED_PATCH */)], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["id","class","ref","_createCommentVNode","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","src","$data","mapImg","alt"],"sources":["C:\\Users\\åˆ˜æ–°åº·\\Desktop\\å¤§äºŒä¸Šè¯¾ç¨‹\\å‰ç«¯å¼€å‘å®è®­\\Front_end_project\\src\\views\\MapView.vue"],"sourcesContent":["<template>\r\n  <!-- âœ… åªåŠ ä¸€ä¸ª refï¼Œä¸æ”¹ç»“æ„ -->\r\n  <section id=\"map\" class=\"section map-section active\" ref=\"rootRef\">\r\n    <div class=\"container\">\r\n      <div class=\"page\">\r\n        <header class=\"page-header\">\r\n          <h1>å—å¼€å¤§å­¦äº¤äº’åœ°å›¾</h1>\r\n          <p>é¼ æ ‡æ»‘è¿‡æŸæ ‹å»ºç­‘ä¼šå‘å…‰æµ®èµ·ï¼Œç‚¹å‡»åé«˜äº®é”å®šå¹¶æ˜¾ç¤ºå¯¹åº”ä»‹ç»ï¼ŒæŒ‰ Esc å–æ¶ˆé€‰æ‹©ã€‚</p>\r\n        </header>\r\n\r\n        <main class=\"layout\">\r\n          <!-- å·¦ä¾§åœ°å›¾ -->\r\n          <section class=\"map-panel\">\r\n            <div class=\"map-container\">\r\n             <img :src=\"mapImg\" alt=\"å—å¼€å¤§å­¦æ‰‹ç»˜åœ°å›¾\" class=\"campus-map\" />\r\n              <!-- çƒ­ç‚¹ç”±åŸ map.js åŠ¨æ€ç”Ÿæˆ -->\r\n            </div>\r\n          </section>\r\n\r\n          <!-- å³ä¾§ä¿¡æ¯æ  -->\r\n          <aside class=\"info-panel\">\r\n            <div class=\"info-box\">\r\n              <h2 class=\"info-title\" id=\"info-title\">æ“ä½œæç¤º</h2>\r\n              <div class=\"info-image-container\" id=\"info-image-container\" style=\"display: none;\"></div>\r\n              <p class=\"info-body\" id=\"info-body\">\r\n                é¼ æ ‡ç§»åŠ¨åˆ°åœ°å›¾ä¸ŠæŸæ ‹å»ºç­‘åŒºåŸŸï¼Œä¼šçœ‹åˆ°è¯¥å»ºç­‘å‘å…‰æµ®èµ·ï¼›\r\n                ç‚¹å‡»åé«˜äº®ä¼šä¸€ç›´å­˜åœ¨ï¼Œå¹¶åœ¨å³ä¾§æ˜¾ç¤ºå¯¹åº”æ–‡å­—ä»‹ç»ã€‚\r\n                æŒ‰ Esc å–æ¶ˆå½“å‰é€‰æ‹©ã€‚\r\n              </p>\r\n            </div>\r\n\r\n            <div class=\"hint-box\">\r\n              <p>æ“ä½œè¯´æ˜ï¼š</p>\r\n              <ul>\r\n                <li>ğŸ–±ï¸ æ»‘è¿‡å»ºç­‘ï¼šé»„è‰²é«˜äº® + æµ®èµ·æ•ˆæœ</li>\r\n                <li>ğŸ–±ï¸ å·¦é”®ç‚¹å‡»ï¼šé«˜äº®é”å®š + æ–‡å­—ä»‹ç» + å›¾ç‰‡</li>\r\n                <li>â‹ Escï¼šå–æ¶ˆé«˜äº®ï¼Œæ¢å¤é»˜è®¤æç¤º</li>\r\n              </ul>\r\n            </div>\r\n          </aside>\r\n        </main>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- âœ… ä¸è¦éŸ³æ•ˆï¼šä¸æ”¾ audio -->\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport mapImg from \"@/assets/images/nk-map.jpg\";\r\n\r\nexport default {\r\n  name: \"MapView\",\r\n\r\n  data() {\r\n    return { mapImg };\r\n  },\r\n\r\n  async mounted() {\r\n    const root = this.$refs.rootRef;\r\n    const container = root?.querySelector?.(\".map-container\");\r\n\r\n    // æ¸…ç†æ—§çƒ­ç‚¹\r\n    if (container) {\r\n      container.querySelectorAll(\".hotspot\").forEach((n) => n.remove());\r\n    }\r\n\r\n    // åŠ è½½åŸç‰ˆ map.js\r\n    await import(\"@/assets/js/map.js\");\r\n    document.dispatchEvent(new Event(\"DOMContentLoaded\"));\r\n\r\n    // âœ… å…³é”®ï¼šåŒæ­¥å³ä¾§é«˜åº¦ = å·¦ä¾§åœ°å›¾é«˜åº¦\r\n    this._mapRoot = root;\r\n    this._syncInfoHeight = () => {\r\n      const left = root.querySelector(\".map-container\");\r\n      const right = root.querySelector(\".info-box\");\r\n      if (!left || !right) return;\r\n\r\n      const h = Math.round(left.getBoundingClientRect().height);\r\n      if (h > 0) {\r\n        right.style.height = h + \"px\";\r\n        right.style.maxHeight = h + \"px\";\r\n        right.style.overflowY = \"auto\"; // å†…å®¹å¤šå°±åœ¨å³ä¾§æ»šåŠ¨\r\n      }\r\n    };\r\n\r\n    const img = root.querySelector(\".campus-map\");\r\n    if (img) {\r\n      // å›¾ç‰‡åŠ è½½å®Œå†åŒæ­¥ä¸€æ¬¡ï¼ˆå¦åˆ™ç¬¬ä¸€æ¬¡é«˜åº¦å¯èƒ½ä¸å‡†ï¼‰\r\n      img.addEventListener(\"load\", this._syncInfoHeight);\r\n      if (img.complete) this._syncInfoHeight();\r\n    }\r\n\r\n    window.addEventListener(\"resize\", this._syncInfoHeight);\r\n\r\n    // å†è¡¥ä¸€æ¬¡å»¶è¿ŸåŒæ­¥ï¼Œé˜²æ­¢é¦–æ¬¡æ¸²æŸ“/å­—ä½“åŠ è½½é€ æˆé«˜åº¦å˜åŒ–\r\n    setTimeout(this._syncInfoHeight, 50);\r\n    setTimeout(this._syncInfoHeight, 200);\r\n  },\r\n\r\n  beforeUnmount() {\r\n    const root = this._mapRoot;\r\n    const img = root?.querySelector?.(\".campus-map\");\r\n    if (img && this._syncInfoHeight) img.removeEventListener(\"load\", this._syncInfoHeight);\r\n    if (this._syncInfoHeight) window.removeEventListener(\"resize\", this._syncInfoHeight);\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style src=\"@/assets/css/global.css\"></style>\r\n<style src=\"@/assets/css/map.css\"></style>\r\n\r\n"],"mappings":";;EAEWA,EAAE,EAAC,KAAK;EAACC,KAAK,EAAC,4BAA4B;EAACC,GAAG,EAAC;;;EAClDD,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAM;;EAMTA,KAAK,EAAC;AAAQ;;EAETA,KAAK,EAAC;AAAW;;EACnBA,KAAK,EAAC;AAAe;;;6DAZpCE,mBAAA,qBAAwB,EACxBC,mBAAA,CA2CU,WA3CVC,UA2CU,GA1CRD,mBAAA,CAuCM,OAvCNE,UAuCM,GAtCJF,mBAAA,CAqCM,OArCNG,UAqCM,G,0BApCJH,mBAAA,CAGS;IAHDH,KAAK,EAAC;EAAa,IACzBG,mBAAA,CAAiB,YAAb,UAAQ,GACZA,mBAAA,CAA+C,WAA5C,0CAAwC,E,qBAG7CA,mBAAA,CA8BO,QA9BPI,UA8BO,GA7BLL,mBAAA,UAAa,EACbC,mBAAA,CAKU,WALVK,UAKU,GAJRL,mBAAA,CAGM,OAHNM,UAGM,GAFLN,mBAAA,CAAuD;IAAjDO,GAAG,EAAEC,KAAA,CAAAC,MAAM;IAAEC,GAAG,EAAC,UAAU;IAACb,KAAK,EAAC;uCACvCE,mBAAA,sBAAyB,C,KAI7BA,mBAAA,WAAc,E,2gBAyBpBA,mBAAA,qBAAwB,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}